<h1 class="text-center mt-4">Multi Search</h1>

<form action="/search" method="POST" class="mb-3">
	<div class="row">
		<div class="col-lg-6" style="margin: auto;">
			<div class="input-groups">
				{{#unless searchData.terms.length}}
					<div class="input-group mb-3">
						{{!-- <label for="main">Main Search</label> --}}
						<input type="text" name="main" class="search form-control input-group-lg" placeholder="Search">
						<div class="input-group-append">
							<button type="button" class="btn btn-outline-secondary js-add-main">Add Main</button>
							<button type="button" class="btn btn-outline-secondary js-remove-from-search" data-remove="{{this}}">Remove</button>
						</div>
					</div>
				{{/unless}}
				{{#each searchData.terms}}
					{{#unless @index}}
						<div class="input-group mb-3">
							{{!-- <label for="main">Main Search</label> --}}
							<input type="text" name="main" value="{{this}}" class="search form-control input-group-lg" placeholder="Search">
							<div class="input-group-append">
								<button type="button" class="btn btn-outline-secondary js-add-main">Add Main</button>
								<button type="button" class="btn btn-outline-secondary js-remove-from-search" data-remove="{{this}}">Remove</button>
							</div>
						</div>
					{{/unless}}
					{{#if @index}}
						<div class="input-group mb-3" data-remove="term{{@index}}">
							<input type="text" placeholder="Search" value="{{this}}" name="term{{@index}}" class="search form-control input-group-lg term">
							<div class="input-group-append">
								<button type="button" class="btn btn-outline-secondary js-add-main">Add Main</button>
								<button type="button" class="btn btn-outline-secondary js-remove-from-search" data-remove="{{this}}">Remove</button>
							</div>
						</div>
					{{/if}}
				{{/each}}
			</div>
			<button type="submit" class="btn btn-outline-dark">SUBMIT</button>
			<button type="button" id="add-term" class="btn btn-outline-dark mr-2">Add +</button>
			{{!-- <input type="range" min="20" max="100" value="100" step="10" class="list-width-slider"> --}}
			<label><input  type="radio" name="orientation" value="row" class="mr-2 js-toggle-list-orientation" {{#unless searchData.orientation}}checked{{/unless}}>Row</label>
			<label><input type="radio" name="orientation" value="column" class="mr-2 js-toggle-list-orientation" {{#if searchData.orientation}}checked{{/if}}>Column</label>
		</div>
	</div>
</form>

<div class="result-lists d-flex {{#if searchData.orientation}}flex-column{{else}}flex-row{{/if}}">
	{{#each searchData.results}}
		<div class="list-container" data-search="{{this.title}}">
			<ul class="list-group result-list">
				<li class="list-group-item d-flex justify-content-between align-items-center">
					<h5 style="margin-bottom: 0;"><span class="js-toggle-search-results mr-1" data-collapse="show"><img src="/icons/chevron-down.svg"></span>{{this.title}}</h5>
					<div>
						<button class="js-remove-from-list float-right btn" data-search-input-val="{{this.title}}"><img src="/icons/trash-2.svg"></button>
						<button class="js-move btn float-right"><img class="js-move" src="/icons/move.svg"></button>
						<button class="js-toggle-descriptions float-right btn" data-descriptions="hide"><img src="/icons/toggle-left.svg"></button>
						<a href="https://www.google.com/search?q={{this.urlencoded}}" target="blank"><button class="btn float-right mr-2"><img class="new-tab" src="/icons/new-tab.svg"></button></a>
					</div>
				</li>
				{{#each this.links}}
					<li class="list-group-item result-item">
						<a href="{{this.link}}">{{this.title}}</a><br>
						<p class="description">{{this.description}}</p>
					</li>
				{{/each}}
			</ul>
		</div>
	{{/each}}
</div>
